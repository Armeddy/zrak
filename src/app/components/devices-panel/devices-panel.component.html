<div class="devices-panel">
  <div *ngIf="this.deviceService.selectedDevice">
    <app-device-details
      [device]="this.deviceService.selectedDevice"
    ></app-device-details>
  </div>
  <mat-selection-list
    *ngIf="!this.deviceService.selectedDevice"
    [multiple]="false"
  >
    <h3 mat-subheader>{{ this.devices?.length }} MJERNE STANICE</h3>
    <mat-list-option
      *ngFor="let device of this.devices; last as last"
      (click)="openDetails(device)"
    >
      <div class="device-item">
        <div class="device-item-info">
          <span
            class="material-icons"
            [style.color]="
              this.deviceService.pmToColor(device.pm25, device.pm10)
            "
          >
            circle
          </span>
          <span mat-line>{{ device.name }}</span>
        </div>
        <span class="material-icons"> chevron_right </span>
      </div>
      <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
    </mat-list-option>
  </mat-selection-list>
</div>
